"use strict";PULSE.app.templates.user_avatar=_.template('<img src="<%= details.imageUrl %>" class="user-options__account-avatar-img">'),function(e,t){const n=function(){const e=this;t.style.toggleClass(e.element,"fcbsites--open"),t.style.toggleClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_SCROLL),A11Y_HELPER.toggleAriaMenuAttributes(e.dropdown),A11Y_HELPER.toggleZIndex(e.dropdown)};e.FCBSitesNavigation=function(t){const n=this;n.element=t,n.dropdown=t.querySelector(".".concat("js-fcb-sites-dropdown")),n.addListeners();const a=n.element.querySelectorAll(".".concat(CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT));for(let t=0;t<a.length;t++)new e.common.LazyPictureElement(a[t])},e.FCBSitesNavigation.prototype.addListeners=function(){"SELECT"===this.dropdown.nodeName?this.dropdown.addEventListener("change",(e=>{window.location.href=e.target.value})):A11Y_HELPER.addListener(this.element,n.bind(this))};const a=document.querySelectorAll('[data-widget="fcb-navigation"]');for(let t=0;t<a.length;t++)new e.FCBSitesNavigation(a[t],{})}(PULSE.app,PULSE.core),function(e,t){const n="navigation--language-switcher-active",a=function(){const e=this,t=DOM_HELPER.nodeListToArray(document.querySelectorAll('link[rel="alternate"]')).filter((e=>"x-default"!==e.getAttribute("hreflang")));this.typeSelect&&this.dropdown.addEventListener("change",(e=>{window.location.href=e.target.value})),t.length>0?r.call(e,t):e.pageTranslationsElem&&i.call(e)},o=function(){const e=this;t.style.toggleClass(e.nav,n),e.closeIcon||(e.closeIcon=e.element.querySelector(".".concat("js-language-switcher-close")),A11Y_HELPER.addListener(e.closeIcon,s.bind(e)))},s=function(){t.style.removeClass(this.nav,n)},r=function(e){const t=this;for(let n=0;n<t.languageLinks.length;n++){const a=t.languageLinks[n].getAttribute("hreflang");for(let o=0;o<e.length;o++)if(e[o].getAttribute("hreflang")===a){t.languageLinks[n].setAttribute(t.typeSelect?"value":"href",e[o].getAttribute("href"));break}}},i=function(){const e=this;for(let t=0;t<e.languageLinks.length;t++){const n=e.languageLinks[t].getAttribute("hreflang"),a=e.pageTranslationsElem.getAttribute("data-url-".concat(n));a&&e.languageLinks[t].setAttribute("href",a)}};e.LanguageSwitcher=function(e){const t=this;t.element=e,t.nav=document.getElementById("nav"),t.activeLanguage=e.querySelector(".".concat("js-language-active"))||!1,t.languageLinks=e.querySelectorAll(".".concat("js-language-link")),t.pageTranslationsElem=document.querySelector(".".concat("js-current-page-translations")),t.dropdown=e.querySelector(".".concat("js-language-dropdown")),t.typeSelect="SELECT"===t.dropdown.nodeName,t.activeLanguage&&A11Y_HELPER.addListener(t.activeLanguage,o.bind(t)),a.call(t)},e.widgetInitialiser.addMultipleWidgetsByName("language-switcher",e.LanguageSwitcher)}(PULSE.app,PULSE.core),function(e,t,n){const a="js-middle-navigation-dropdown",o="middle-navigation__item--dropdown-disabled",s="middle-navigation__dropdown--open",r="is-active",i="middle-navigation--hover",l="middle-navigation__item--hovered",c="navigation--docked",d="new-release-popup",u="secondary-navigation__link-panel".concat(CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE),E="secondary-navigation__link-panel--hidden",S="secondary-navigation__links--mobile-only-extra",m="main-mobile-navigation--docked",g="navigation--mobile-open",v="middle-navigation__item--active",p="secondary-navigation__bottom-scroll-indicator--bounce",y="secondary-navigation__bottom-scroll-indicator--hide",C="".concat(g,"--secondary-nav-active"),L="tertiary-navigation".concat(CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE),N="hide-new-feature-popup";let _=0;const A=function(e){const n=this;if(e)return t.style.addClass(n.mainNav,C),e;for(let e=0;e<n.mainMenuItems.length;e++)if(t.style.hasClass(n.mainMenuItems[e],v))return t.style.addClass(n.mainNav,C),n.mainMenuItems[e];return null},h=function(){return this.scrollElement?this.scrollElement.scrollTop:window.pageYOffset},f=function(e,t){const n=e.getBoundingClientRect();let a;if(t){const e=t.getBoundingClientRect();a=-1*(n.height-e.height)}else a=-1*n.height;return{dockedMidwayPostion:0,dockedSecondaryNavPosition:a}},T=function(e){!SCREEN_HELPER.isMobileView()||this.barcaTvNav?(this.navWrapper.style.transform="translateY( ".concat(e,"px )"),this.alertDropdown&&this.mainLogo&&(e<0?(t.style.addClass(this.alertDropdown,r),t.style.addClass(this.mainLogo,r)):(t.style.removeClass(this.mainLogo,r),t.style.removeClass(this.alertDropdown,r)))):(this.alertDropdown&&this.mainLogo&&(t.style.removeClass(this.mainLogo,r),t.style.removeClass(this.alertDropdown,r)),this.navWrapper.style.transform=""),this.barcaTvNav&&(this.barcaTvNav.style.transform="translateY( ".concat(e,"px )"))},b=function(){const e=this;if(e.secondaryNavDisabled&&window.innerWidth>CONSTANTS.BREAKPOINTS.TABLET)return;const n=h.call(e),a=SCREEN_HELPER.isMobileView(),o=a&&!e.barcaTvNav?e.mobileNavWrapper:e.navWrapper,s=a&&!e.barcaTvNav?m:c;if(e.scrollElement?e.updateDockClassFixedBody(o,s):e.updateDockClass(o,s),0!==_&&e.isDocked){if(0===n)return T.call(e,e.dockingParams.dockedMidwayPostion),void j(e.navWrapper,e.mobileNavWrapper);T.call(e,e.dockingParams.dockedSecondaryNavPosition),_<n?(!a&&e.barcaTvNav&&T.call(e,e.dockingParams.dockedSecondaryNavPosition),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED_MIDWAY)):_>n&&(a&&!e.barcaTvNav?t.style.removeClass(e.mobileNavWrapper,m):(e.searchBar&&t.style.removeClass(e.searchBar,CONSTANTS.STYLE_CLS_NAMES.SEARCH_BAR_OPEN_CLS),e.searchBarIcon&&t.style.removeClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS),T.call(e,e.dockingParams.dockedMidwayPostion)),t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED_MIDWAY)),_=n}else _=n},w=function(){const e=this;e.secondaryNavDisabled=t.style.hasClass(e.element,"navigation-fixed-container--hide-secondary"),e.dockingParams=f(e.navWrapper,e.secondaryNav),e.scrollInterval=SCREEN_HELPER.onDebouncedScroll(b.bind(e),e.scrollElement||window)},P=function(){const e=this;t.style.removeClass(e.mainNav,C),t.style.removeClass(e.currentActiveNavItem,l),t.style.removeClass(e.currentActiveNavItem,v)},R=function(){const e=this;if(e.burgerMenu&&e.mobileMenuCloseBtn&&e.navWrapper){if(A11Y_HELPER.addListener(e.burgerMenu,U.bind(e)),A11Y_HELPER.addListener(e.mobileMenuCloseBtn,U.bind(e)),e.secondaryNav)for(let t=0;t<e.secondaryTitle.length;t++)A11Y_HELPER.addListener(e.secondaryTitle[t],P.bind(e));e.dropdownBarcaTeamsItem.forEach((t=>{const n=t.firstElementChild;A11Y_HELPER.addListener(n,(t=>{Y.call(e,t)}))}));for(let t=0;t<e.mobileDropdownButtons.length;t++)A11Y_HELPER.addListener(e.mobileDropdownButtons[t],B.bind(e));for(let t=0;t<e.mainMenuItems.length;t++)A11Y_HELPER.addListener(e.mainMenuItems[t],x.bind(e,e.mainMenuItems[t]));e.navWrapper.addEventListener("transitionend",(n=>{if("nav"!==n.target.id||!SCREEN_HELPER.isMobileView()||void 0===e.isClosing)return;const a=t.style.hasClass(n.currentTarget,g);e.isClosing?(e.element.style.bottom="",e.isClosing=!1):"transform"===n.propertyName&&a&&(e.element.style.bottom="0px")}))}},I=function(){const e=DOM_HELPER.nodeListToArray(this.element.querySelectorAll(".js-middle-navigation-menu-item-hover"));for(let t=0;t<e.length;t++)e[t].addEventListener("mouseenter",M),e[t].addEventListener("mouseleave",O)},M=function(e){t.style.hasClass(e.currentTarget,v)||t.style.hasClass(e.currentTarget,d)||(t.style.addClass(e.currentTarget,l),t.style.addClass(e.currentTarget.parentElement,i))},O=function(e){t.style.hasClass(e.currentTarget,v)||(t.style.removeClass(e.currentTarget,l),t.style.removeClass(e.currentTarget.parentElement,i))},H=function(e){const n=this;SCREEN_HELPER.isMobileView()&&(e.addEventListener("click",V.bind(n)),t.style.hasClass(e,"js-middle-navigation-dropdown-disabled")||A11Y_HELPER.addListener(e,k.bind(n)))},D=function(e){A11Y_HELPER.addListener(e,V.bind(this)),A11Y_HELPER.addListener(e,(e=>{SCREEN_HELPER.isMobileView()||(window.location=e.currentTarget.getAttribute("data-href"))}))},q=function(){const e=this;for(let t=0;t<e.otherSportsMenuItems.length;t++)e.otherSportsMenuItems[t].addEventListener("click",V.bind(e))},k=function(e){const n=this;if(!SCREEN_HELPER.isMobileView())return;const o=e.currentTarget.querySelector(".".concat(a));if(!o)return;const r=o.id,i=!o.className.indexOf(s)>-1;t.style.toggleClass(o,s),i&&((e,n)=>{for(let o=0;o<e.length;o++){if(t.style.hasClass(e[o],"js-mobile-only-extra"))continue;const r=e[o].querySelector(".".concat(a));r&&r.id!==n&&(t.style.removeClass(r,s),A11Y_HELPER.resetAriaMenuAttributes(r))}})(n.dropdownButtons,r),A11Y_HELPER.toggleAriaMenuAttributes(o)},U=function(){const e=this;if(SCREEN_HELPER.isMobileView()){if(t.style.hasClass(e.navWrapper,g)){let t;e.defaultActiveMobilePanel&&(t=e.element.querySelector('[data-menu-origin-type="'.concat(e.defaultActiveMobilePanel.getAttribute("data-menu-type"),'"]'))),t&&t.click(),e.isClosing=!0,e.currentActiveNavItem&&x.call(e,e.currentActiveNavItem),e.currentActiveSubNav&&V.call(e,null,e.currentActiveSubNav)}else e.openingScrollPosition=window.pageYOffset,e.isClosing=!1,e.currentActiveNavItem=A.call(e),e.currentActiveSubNav=e.element.querySelector(".".concat("secondary-navigation__link-panel--active"));if(e.isClosing){["/","/en/","/fr/","/ca/","/es/","/cn/","/jp/"].includes(location.pathname)&&e.currentActiveNavItem&&(t.style.removeClass(e.currentActiveNavItem,l),t.style.removeClass(e.currentActiveNavItem,v)),t.style.removeClass(e.mainNav,C),window.scrollTo(0,e.openingScrollPosition)}t.style.toggleClass(e.navWrapper,g),t.style.toggleClass(e.element,"navigation-fixed-container--mobile-open"),e.initScrollIndicator()}},Y=function(e){e.preventDefault(),t.style.toggleClass(e.currentTarget.parentElement,"tertiary-navigation__list-item--hidden")},B=function(e){const n=this;if(!SCREEN_HELPER.isMobileView())return;t.style.hasClass(e.currentTarget,"js-barca-teams-dropdown")&&e.preventDefault();e.currentTarget.querySelector(".".concat("js-tertiary-wrapper"))&&(t.style.toggleClass(e.currentTarget,L),setTimeout((()=>F.call(n)),300))},j=function(e,n){t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED_MIDWAY),t.style.removeClass(e,c),t.style.removeClass(e,"navigation--docked-midway"),n&&(t.style.removeClass(n,m),t.style.removeClass(n,"main-mobile-navigation--docked-midway"))},x=function(e){if(!SCREEN_HELPER.isMobileView())return;this.currentActiveNavItem=e;const n=A.call(this,e);n&&t.style.removeClass(n,v),t.style.addClass(e,v)},V=function(e,n){const a=this;if(!SCREEN_HELPER.isMobileView())return;const o=a.element.querySelector(".".concat(u)),s=n||a.element.querySelector('[data-menu-type="'.concat(e.currentTarget.getAttribute("data-menu-origin-type"),'"]'));if(!s)return;const r=s.getAttribute("data-menu-format");a.secondaryNavUL.scrollTop=0,r?t.style.addClass(a.secondaryNavUL,S):t.style.removeClass(a.secondaryNavUL,S),o&&(t.style.removeClass(o,u),t.style.addClass(o,E)),t.style.removeClass(s,E),t.style.addClass(s,u),e&&W.call(a,e.currentTarget),F.call(a)},W=function(e){const n=this.element.querySelector(".".concat(o));n&&(t.style.toggleClass(n,o),t.style.toggleClass(e,o))},F=function(){const e=this;SCREEN_HELPER.isMobileView()&&(0===e.secondaryNavUL.scrollTop&&e.secondaryNavUL.clientHeight<e.secondaryNavUL.scrollHeight?(t.style.removeClass(e.scrollIndicator,y),t.style.addClass(e.scrollIndicator,p)):(t.style.addClass(e.scrollIndicator,y),t.style.removeClass(e.scrollIndicator,p)))};e.Navigation=function(e){const n=this;n.element=e,n.primaryNav=n.element.querySelector(".".concat(CONSTANTS.JS_CLS_NAMES.NAV_CORE)),n.mainNav=n.element.querySelector(".".concat(CONSTANTS.JS_CLS_NAMES.NAV_MAIN)),n.flexNav=n.element.querySelector(".".concat("js-secondary-navigation-flex-nav")),n.appStore=n.element.querySelector(".".concat("js-app-store")),n.secondaryNav=n.element.querySelector(".".concat(CONSTANTS.JS_CLS_NAMES.SECONDARY_NAV)),n.burgerMenu=n.element.querySelector(".".concat("js-burger-menu")),n.mobileMenuCloseBtn=n.element.querySelector(".".concat("js-mobile-menu-close")),n.navWrapper=n.element.querySelector("#".concat("nav")),n.mobileNavWrapper=n.element.querySelector("#".concat("mobile-nav")),n.dropdownButtons=DOM_HELPER.nodeListToArray(n.element.querySelectorAll(".".concat("js-middle-navigation-dropdown-button"))),n.dropdownBarcaTeamsItem=DOM_HELPER.nodeListToArray(n.element.querySelectorAll(".".concat("js-barca-teams-dropdown-item"))),n.normalButtons=DOM_HELPER.nodeListToArray(n.element.querySelectorAll(".".concat("js-middle-link"))),n.mainMenuItems=DOM_HELPER.nodeListToArray(n.element.querySelectorAll(".".concat("js-middle-navigation-menu-item"))),n.mobileDropdownButtons=DOM_HELPER.nodeListToArray(n.element.querySelectorAll('[data-mobile-menu-type="true"]')),n.otherSportsMenuItems=DOM_HELPER.nodeListToArray(n.element.querySelectorAll('[data-other-sports-menu="true"]')),n.searchBar=document.querySelector(".".concat(CONSTANTS.JS_CLS_NAMES.SEARCH_BAR_CLS_JS)),n.searchBarIcon=document.querySelector(".".concat(CONSTANTS.JS_CLS_NAMES.SEARCH_ICON_CLS_JS)),n.isDocked=!1,n.scrollElement=document.querySelector(".".concat("js-nav-scroll-container")),n.sectionNameContainer=document.querySelector(".".concat("js-secondary-navigation-section")),n.secondaryNav=n.element.querySelector(".".concat("js-secondary-nav")),n.newReleasePopupClose=DOM_HELPER.nodeListToArray(n.element.querySelectorAll(".".concat("js-new-release-close"))),n.newReleasePopup=DOM_HELPER.nodeListToArray(n.element.querySelectorAll(".".concat("js-new-release-popup"))),n.barcaTvNav=document.querySelector('[data-widget="barca-tv-nav"]'),n.alertDropdown=n.navWrapper.querySelector(".js-alert-dropdown"),n.alertBadge=n.primaryNav.querySelector(".js-alert-badge"),n.mainLogo=document.querySelector(".navigation__logo"),n.secondaryNav&&(n.secondaryNavUL=n.secondaryNav.querySelector("ul"),n.secondaryTitle=[].slice.call(n.element.querySelectorAll(".".concat("js-nav-secondary-title"))));"true"!==t.localStorage.getStorage(N)&&n.newReleasePopup.forEach((e=>{t.style.addClass(e,d),t.style.addClass(e,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE)})),n.addListeners(),n.storeActiveMobilePanel(),n.checkFlexNavigation()},e.Navigation.prototype.addListeners=function(){const e=this;for(let t=0;t<e.dropdownButtons.length;t++)H.call(e,e.dropdownButtons[t]);for(let t=0;t<e.normalButtons.length;t++)D.call(e,e.normalButtons[t]);SCREEN_HELPER.onDebouncedResize((()=>{e.dockingParams=f(e.navWrapper,e.secondaryNav),b.call(e)})),q.call(e),R.call(e),I.call(e),w.call(e),e.newReleasePopupClose.forEach((n=>{A11Y_HELPER.addListener(n,(n=>{n.preventDefault(),n.stopPropagation(),e.newReleasePopup.forEach((e=>{t.style.addClass(e,"new-release-popup--hide"),t.style.removeClass(e,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE),t.localStorage.setStorage(N,!0),setTimeout((function(){t.style.removeClass(e,d)}),0)}))}))}))},e.Navigation.prototype.checkFlexNavigation=function(){const e=this;if(!e.flexNav)return;const t={clickEvent:!1,container:e.flexNav,containerCls:"secondary-navigation__list-item secondary-navigation__list-item--more",flexNavOpenCls:"section-navigation__text-container-more--open",additionalMenuItem:e.sectionNameContainer};"true"===e.flexNav.getAttribute("data-flex-nav")&&new n.FlexNav(e.flexNav,t)},e.Navigation.prototype.initScrollIndicator=function(){const e=this;e.scrollIndicator=document.querySelector(".".concat("js-mobile-bottom-scroll-indicator")),e.secondaryNavUL&&(e.secondaryNavUL.addEventListener("scroll",F.bind(e)),F.call(e))},e.Navigation.prototype.storeActiveMobilePanel=function(){this.defaultActiveMobilePanel=this.element.querySelector(".".concat(u))},e.Navigation.prototype.updateDockClassFixedBody=function(){const e=this;0===e.scrollElement.scrollTop?(j(e.navWrapper,e.mobileNavWrapper),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),e.isDocked=!1):(t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),e.isDocked=!0)},e.Navigation.prototype.updateDockClass=function(e,n){const a=this,o=DOM_HELPER.isElementInView(a.primaryNav),s=t.style.hasClass(e,n);o&&s?(j(a.navWrapper,a.mobileNavWrapper),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),a.isDocked=!1):o||s||(t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.U_NAV_DOCKED),a.isDocked=!0)};const J=document.querySelectorAll('[data-widget="navigation"]');for(let t=0;t<J.length;t++)new e.Navigation(J[t],{})}(PULSE.app,PULSE.core,PULSE.app.common),function(e,t){const n=()=>{USER_HELPER.register()},a=()=>{USER_HELPER.logIn()};e.Quicklinks=function(e){const o=this;o.container=e;const s="quicklinks--is-active",r=o.container.querySelector(".js-user-register"),i=o.container.querySelector(".js-user-login");let l,c,d=document.body.offsetHeight;USER_HELPER.isUserLoggedIn()?t.style.addClass(o.container,"quicklinks--has-user"):r&&i&&(A11Y_HELPER.addListener(r,n.bind(o)),A11Y_HELPER.addListener(i,a.bind(o))),o.scrollEvent=SCREEN_HELPER.onDebouncedResize((()=>{d=document.body.offsetHeight,c=d-100-window.outerHeight})),o.scrollInterval=SCREEN_HELPER.onDebouncedScroll((()=>{l=window.innerHeight,c=d-100-l,window.pageYOffset>100&&window.pageYOffset<c?t.style.addClass(o.container,s):t.style.removeClass(o.container,s)}))};const o=document.querySelectorAll('[data-widget="quicklinks"]');for(let t=0;t<o.length;t++)new e.Quicklinks(o[t],{})}(PULSE.app,PULSE.core),function(e,t,n){const a=function(){const e=this;n.style.toggleClass(e.searchBar,CONSTANTS.STYLE_CLS_NAMES.SEARCH_BAR_OPEN_CLS),n.style.hasClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS)?n.style.removeClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS):n.style.addClass(e.searchBarIcon,CONSTANTS.STYLE_CLS_NAMES.SEARCH_ICON_OPEN_CLS),A11Y_HELPER.toggleZIndex(e.secondaryNav),e.input.focus()};e.SearchBar=function(e){const n=this;n.searchBarIcon=e,n.searchBar=document.querySelector(".".concat(CONSTANTS.JS_CLS_NAMES.SEARCH_BAR_CLS_JS)),n.searchBar&&(n.input=n.searchBar.querySelector("input"),n.searchInput=new t.SearchInput(n.searchBar,n.input),n.secondaryNav=document.querySelector(".".concat(CONSTANTS.JS_CLS_NAMES.SECONDARY_NAV)),n.addListeners())},e.SearchBar.prototype.addListeners=function(){A11Y_HELPER.addListener(this.searchBarIcon,a.bind(this))};const o=document.querySelectorAll('[data-widget="fcb-search"]');for(let t=0;t<o.length;t++)new e.SearchBar(o[t],{})}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,n){const a="section-navigation-dropdown--open",o="section-navigation-dropdown__option-link--active",s="data-href",r=function(e,n){this.mainNavDropdownCurrent.innerHTML=e.innerHTML,function(e){e.forEach((e=>{t.style.removeClass(e,o)}))}(n),t.style.addClass(e,o)},i=function(e,t){const n=this;t.forEach((a=>{const o=a.getAttribute(s);o&&e===o&&r.call(n,a,t)}))},l=function(e){const n=this,o=e.querySelector(".".concat("js-main-nav-dropdown-more"));A11Y_HELPER.addListener(o,(()=>{t.style.toggleClass(e,a),t.style.toggleClass(o,"section-navigation__text-container--more-active"),A11Y_HELPER.toggleZIndex(e)})),n.dropdownOptions=DOM_HELPER.nodeListToArray(e.querySelectorAll(".".concat("js-main-nav-dropdown-option"))),n.dropdownOptions.forEach((o=>{A11Y_HELPER.addListener(o,(s=>{o.href||(s.preventDefault(),t.style.removeClass(e,a),r.call(n,o,n.dropdownOptions))}))}))};e.SectionNavigation=function(t){const a=this;a.container=t,a.mainNav=a.container,a.mainNavDropdown=a.container.querySelector(".".concat("js-main-nav-dropdown")),a.mainNavDropdownCurrent=a.mainNav.querySelector(".".concat("js-dropdown-current")),l.call(a,a.mainNavDropdown);const o={container:t.querySelector(".js-section-nav"),containerCls:"section-navigation__text-container-more",flexNavOpenCls:"section-navigation__text-container-more--open"};new n.FlexNav(t,o),a.intersectionNav=new n.IntersectionNav(a.container,{observer:{...PRESET_CONFIG.OBSERVER,threshold:.9},activationElementSelector:"js-section-nav-link",activationElementIdAttribute:s,navSelector:"js-main-nav-item",navDropdownSelector:"js-main-nav-dropdown-options",activeClass:"section-navigation__text-container--active",marginBottom:100,language:e.language,didUpdateActive:e=>{i.call(a,e,a.dropdownOptions)}})};const c=document.querySelectorAll('[data-widget="section-nav"]');for(let t=0;t<c.length;t++)new e.SectionNavigation(c[t],{})}(PULSE.app,PULSE.core,PULSE.app.common),function(e,t){const n="video-page-nav__item".concat(CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE),a="video-page-panel--animate-in",o="section-navigation-dropdown__option-link--active",s="section-navigation-dropdown--open";e.TabsNavigation=function(e){const o=this;if(o.container=e,o.navItems=DOM_HELPER.nodeListToArray(o.container.querySelectorAll(".".concat("js-video-nav-item"))),o.panes=DOM_HELPER.nodeListToArray(document.querySelectorAll(".".concat("js-video-page-panel"))),!o.panes.find((e=>t.style.hasClass(e,".".concat(a))))){const e=o.navItems.find((e=>t.style.hasClass(e,n)));if(e){const n=e.getAttribute("data-content-panel"),s=r(o.panes,n);t.style.addClass(s,".".concat(a))}}o.mainNav=o.container,o.mainNavDropdown=o.container.querySelector(".".concat("js-nav-dropdown")),o.mainNavDropdownCurrent=o.mainNav.querySelector(".".concat("js-dropdown-current")),i.call(o,o.mainNavDropdown),l.call(o)};const r=function(e,t){const n=e.filter((e=>e.getAttribute("data-video-page-panel")===t));return n.length>0?n[0]:null},i=function(e){const n=this,a=e.querySelector(".".concat("js-nav-dropdown-more"));A11Y_HELPER.addListener(a,(()=>{t.style.toggleClass(e,s),t.style.toggleClass(a,"section-navigation__text-container--more-active"),A11Y_HELPER.toggleZIndex(e)})),n.dropdownOptions=DOM_HELPER.nodeListToArray(e.querySelectorAll(".".concat("js-nav-dropdown-option"))),n.dropdownOptions.forEach((a=>{A11Y_HELPER.addListener(a,(o=>{o.preventDefault(),t.style.removeClass(e,s),c.call(n,a,n.dropdownOptions),d.call(n,a)}))}))},l=function(){const e=this;for(let a=0;a<e.navItems.length;a++)t.style.hasClass(e.navItems[a],n)&&d.call(e,e.navItems[a],e.navItems[0]),A11Y_HELPER.addListener(e.navItems[a],(t=>d.call(e,t.currentTarget)))},c=function(e,n){this.mainNavDropdownCurrent.innerHTML=e.innerHTML,function(e){e.forEach((e=>{t.style.removeClass(e,o)}))}(n),t.style.addClass(e,o)},d=function(e,a){const o=this,s=a||o.container.querySelector(".".concat(n));s&&e!==s&&u(o.panes,e.getAttribute("data-content-panel"),s.getAttribute("data-content-panel"))&&(t.style.removeClass(s,n),t.style.addClass(e,n))},u=function(e,t,n){const o=r(e,t),s=r(e,n);return o&&s?(ANIMATION_HELPER.toggleAnimation(o,s,{animateInCls:a,animateOutCls:"video-page-panel--animate-out"}),!0):(console.warn("Error: Unable to find pane to switch to."),!1)};e.widgetInitialiser.addMultipleWidgetsByName("tabs-navigation",e.TabsNavigation)}(PULSE.app,PULSE.core,CONSTANTS),function(e,t,n){const a="logged-in",o="logged-out",s="mobile-cta-visible",r="is-premium";e.UserOptions=function(e){const t=this;t.container=e,t.account=[].slice.call(t.container.querySelectorAll(".".concat("js-account"))),t.accountTextDesktop=[].slice.call(t.container.querySelectorAll(".".concat("js-account-text-desktop"))),t.accountTextMobile=[].slice.call(t.container.querySelectorAll(".".concat("js-account-text-mobile"))),t.accountAvatarContainer=t.container.querySelector(".".concat("js-account-avatar-container")),t.accountAvatar=t.container.querySelector(".".concat("js-account-avatar")),t.registerBtn=t.container.querySelector(".".concat("js-register")),t.loginBtn=t.container.querySelector(".".concat("js-login")),t.mobileCtaOpenBtn=t.container.querySelector(".".concat("js-mobile-cta-open")),t.mobileCtaCloseBtn=t.container.querySelector(".".concat("js-mobile-cta-close")),t.loginFlowId=t.loginBtn.dataset.flowIdLogin,t.registerFlowId=t.registerBtn.dataset.flowIdRegister,t.addListeners();const a=n.getState().account.generalDetails.data;if(a.email)t.setAccountInfo(a);else if(n.getState().account.generalDetails.fetchingFailed)t.setAccountInfo({});else{const e=watch(n.getState,["account","generalDetails","data"]);n.subscribe(e((e=>{t.setAccountInfo(e)})));const a=watch(n.getState,["account","generalDetails","fetchingFailed"]);n.subscribe(a((()=>{t.setAccountInfo({})})))}USER_HELPER.isUserLoggedIn()||t.setLoggedOutState()},e.UserOptions.prototype.setAccountInfo=function(e){const n=e.firstName?PULSE.I18N.lookup("label.sso-nav.greeting",{name:e.firstName}):PULSE.I18N.lookup("label.sso-nav.generic-account-label");this.accountTextDesktop.forEach((e=>{e.innerHTML=n}));const a=e.firstName?e.firstName.charAt(0):"",o=e.lastName?e.lastName.charAt(0):"";this.accountTextMobile.forEach((e=>{e.innerHTML=a+o})),e.imageUrl&&(this.accountAvatar.innerHTML=TEMPLATE_HELPER.render({details:e},"user_avatar"),t.style.removeClass(this.accountAvatarContainer,"u-hide")),USER_HELPER.checkUserEntitlement(CONSTANTS.USER_ENTITLEMENT_TYPE.PREMIUM_FEEL).then((e=>{if(e){[].slice.call(document.querySelectorAll(".".concat("js-premium-check"))).forEach((e=>{t.style.addClass(e,r)})),t.style.addClass(this.container,r)}else t.style.removeClass(this.container,r)})),USER_HELPER.isUserLoggedIn()?this.setLoggedInState():this.setLoggedOutState()},e.UserOptions.prototype.setLoggedOutState=function(){t.style.removeClass(this.container,a),t.style.addClass(this.container,o),USER_HELPER.logOut(!1)},e.UserOptions.prototype.setLoggedInState=function(){t.style.removeClass(this.container,o),t.style.addClass(this.container,a)},e.UserOptions.prototype.addListeners=function(){const e=this;A11Y_HELPER.addListener(e.registerBtn,(()=>i(e.registerFlowId))),A11Y_HELPER.addListener(e.loginBtn,(()=>l(e.loginFlowId))),e.account.forEach((e=>A11Y_HELPER.addListener(e,c))),A11Y_HELPER.addListener(e.mobileCtaOpenBtn,d.bind(null,e)),A11Y_HELPER.addListener(e.mobileCtaCloseBtn,u.bind(null,e))};const i=e=>{USER_HELPER.register("",e)},l=e=>{USER_HELPER.logIn("",e)},c=USER_HELPER.goToAccountPage,d=e=>{t.style.addClass(e.container.parentElement,s),t.style.addClass(e.container,s)},u=e=>{t.style.removeClass(e.container.parentElement,s),t.style.removeClass(e.container,s)};e.widgetInitialiser.addMultipleWidgetsByName("user-options",e.UserOptions)}(PULSE.app,PULSE.core,PULSE.store);